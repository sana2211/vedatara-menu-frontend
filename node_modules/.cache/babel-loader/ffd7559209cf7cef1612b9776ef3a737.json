{"ast":null,"code":"var _jsxFileName = \"/Users/Mustaqeem/MusicApp1/src/components/Getmusic.js\";\nimport React, { Component } from 'react';\nimport styles from \"./GetMusic.css\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nclass Getmusic extends Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      data: []\n    };\n  }\n\n  async fetchAPI() {\n    const a = window.location.href.split('/');\n    const id = a[a.length - 1];\n    console.log(id);\n    const baseURL1 = 'http://localhost:8000/api/bookmarks/' + id;\n    const response = await fetch(baseURL1);\n    const data = await response.json();\n    console.log(data);\n    this.setState({\n      data: data\n    });\n  }\n\n  componentDidMount() {\n    this.fetchAPI();\n  }\n\n  handleDelete(musicid) {\n    fetch('' + `/${musicid}`, {\n      method: 'DELETE'\n    }).then(res => {\n      if (!res.ok) {\n        return res.json().then(error => {\n          // then throw it\n          throw error;\n        });\n      }\n\n      alert('Deleted!');\n    }).catch(error => {\n      console.error(error);\n    });\n  }\n\n  render() {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(\"p\", {\n        children: \"Get music\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 46,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"ul\", {\n        className: \"getmusicul\",\n        children: this.state.data.map(item => {\n          return /*#__PURE__*/_jsxDEV(\"div\", {\n            children: [/*#__PURE__*/_jsxDEV(\"li\", {\n              children: [\"Id: \", item.id]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 52,\n              columnNumber: 25\n            }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n              children: [\"URL: \", item.url]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 53,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n              children: [\"ARTIST: \", item.artist]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 54,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n              children: [\"TITLE: \", item.title]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 55,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: this.handleDelete(item.id),\n              children: \"Delete\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 56,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 57,\n              columnNumber: 29\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 51,\n            columnNumber: 29\n          }, this);\n        })\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 47,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 45,\n      columnNumber: 13\n    }, this);\n  }\n\n}\n\nexport default Getmusic;","map":{"version":3,"sources":["/Users/Mustaqeem/MusicApp1/src/components/Getmusic.js"],"names":["React","Component","styles","Getmusic","state","data","fetchAPI","a","window","location","href","split","id","length","console","log","baseURL1","response","fetch","json","setState","componentDidMount","handleDelete","musicid","method","then","res","ok","error","alert","catch","render","map","item","url","artist","title"],"mappings":";AAAA,OAAOA,KAAP,IAAgBC,SAAhB,QAAiC,OAAjC;AACA,OAAOC,MAAP,MAAmB,gBAAnB;;;AAEA,MAAMC,QAAN,SAAuBF,SAAvB,CAAiC;AAAA;AAAA;AAAA,SAC7BG,KAD6B,GACrB;AAAEC,MAAAA,IAAI,EAAE;AAAR,KADqB;AAAA;;AAEf,QAARC,QAAQ,GAAG;AACb,UAAMC,CAAC,GAAGC,MAAM,CAACC,QAAP,CAAgBC,IAAhB,CAAqBC,KAArB,CAA2B,GAA3B,CAAV;AACN,UAAMC,EAAE,GAAGL,CAAC,CAACA,CAAC,CAACM,MAAF,GAAW,CAAZ,CAAZ;AACAC,IAAAA,OAAO,CAACC,GAAR,CAAYH,EAAZ;AACM,UAAMI,QAAQ,GAAG,yCAAuCJ,EAAxD;AACA,UAAMK,QAAQ,GAAG,MAAMC,KAAK,CAACF,QAAD,CAA5B;AACA,UAAMX,IAAI,GAAG,MAAMY,QAAQ,CAACE,IAAT,EAAnB;AACAL,IAAAA,OAAO,CAACC,GAAR,CAAYV,IAAZ;AACA,SAAKe,QAAL,CAAc;AACVf,MAAAA,IAAI,EAAEA;AADI,KAAd;AAGD;;AACDgB,EAAAA,iBAAiB,GACjB;AACE,SAAKf,QAAL;AACD;;AAEDgB,EAAAA,YAAY,CAACC,OAAD,EACZ;AACEL,IAAAA,KAAK,CAAC,KAAK,IAAGK,OAAQ,EAAjB,EAAoB;AACrBC,MAAAA,MAAM,EAAE;AADa,KAApB,CAAL,CAGCC,IAHD,CAGMC,GAAG,IAAI;AACT,UAAI,CAACA,GAAG,CAACC,EAAT,EAAa;AACX,eAAOD,GAAG,CAACP,IAAJ,GAAWM,IAAX,CAAgBG,KAAK,IAAI;AAC9B;AACA,gBAAMA,KAAN;AACD,SAHM,CAAP;AAID;;AACDC,MAAAA,KAAK,CAAC,UAAD,CAAL;AACD,KAXH,EAYGC,KAZH,CAYSF,KAAK,IAAI;AACdd,MAAAA,OAAO,CAACc,KAAR,CAAcA,KAAd;AACD,KAdH;AAeH;;AAGDG,EAAAA,MAAM,GAAG;AACL,wBACI;AAAA,8BACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,cADJ,eAEI;AAAI,QAAA,SAAS,EAAC,YAAd;AAAA,kBAGA,KAAK3B,KAAL,CAAWC,IAAX,CAAgB2B,GAAhB,CAAqBC,IAAD,IAAQ;AACxB,8BAAQ;AAAA,oCACJ;AAAA,iCAASA,IAAI,CAACrB,EAAd;AAAA;AAAA;AAAA;AAAA;AAAA,oBADI,eAEA;AAAA,kCAAUqB,IAAI,CAACC,GAAf;AAAA;AAAA;AAAA;AAAA;AAAA,oBAFA,eAGA;AAAA,qCAAaD,IAAI,CAACE,MAAlB;AAAA;AAAA;AAAA;AAAA;AAAA,oBAHA,eAIA;AAAA,oCAAYF,IAAI,CAACG,KAAjB;AAAA;AAAA;AAAA;AAAA;AAAA,oBAJA,eAKA;AAAQ,cAAA,OAAO,EAAE,KAAKd,YAAL,CAAkBW,IAAI,CAACrB,EAAvB,CAAjB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBALA,eAMA;AAAA;AAAA;AAAA;AAAA,oBANA;AAAA;AAAA;AAAA;AAAA;AAAA,kBAAR;AASH,SAVD;AAHA;AAAA;AAAA;AAAA;AAAA,cAFJ;AAAA;AAAA;AAAA;AAAA;AAAA,YADJ;AAqBH;;AA7D4B;;AAgEjC,eAAeT,QAAf","sourcesContent":["import React, { Component } from 'react';\nimport styles from \"./GetMusic.css\";\n\nclass Getmusic extends Component {\n    state = { data: [] }\n    async fetchAPI() {\n        const a = window.location.href.split('/');\n  const id = a[a.length - 1]\n  console.log(id);\n        const baseURL1 = 'http://localhost:8000/api/bookmarks/'+id;\n        const response = await fetch(baseURL1);\n        const data = await response.json();\n        console.log(data);\n        this.setState({\n            data: data\n        })\n      }\n      componentDidMount()\n      {\n        this.fetchAPI();\n      }\n\n      handleDelete(musicid)\n      {\n        fetch(''+ `/${musicid}`, {\n            method: 'DELETE',\n        })\n        .then(res => {\n            if (!res.ok) {\n              return res.json().then(error => {\n                // then throw it\n                throw error\n              })\n            }\n            alert('Deleted!')\n          })\n          .catch(error => {\n            console.error(error)\n          });\n    }\n\n\n    render() { \n        return ( \n            <div>\n                <p>Get music</p>\n                <ul className=\"getmusicul\">\n                    \n                {\n                this.state.data.map((item)=>{\n                    return (<div>\n                        <li>Id: {item.id}</li>\n                            <li>URL: {item.url}</li>\n                            <li>ARTIST: {item.artist}</li>\n                            <li>TITLE: {item.title}</li>\n                            <button onClick={this.handleDelete(item.id)}>Delete</button>\n                            <br></br>\n                            </div>\n                    )\n                })\n                 }\n                 </ul>\n            </div>\n         );\n    }\n}\n \nexport default Getmusic;"]},"metadata":{},"sourceType":"module"}