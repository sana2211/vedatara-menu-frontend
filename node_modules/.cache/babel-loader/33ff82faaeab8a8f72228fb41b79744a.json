{"ast":null,"code":"import _regeneratorRuntime from\"/Users/Mustaqeem/MusicApp1/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/Users/Mustaqeem/MusicApp1/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _classCallCheck from\"/Users/Mustaqeem/MusicApp1/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/Users/Mustaqeem/MusicApp1/node_modules/@babel/runtime/helpers/esm/createClass\";import _inherits from\"/Users/Mustaqeem/MusicApp1/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"/Users/Mustaqeem/MusicApp1/node_modules/@babel/runtime/helpers/esm/createSuper\";import React,{Component}from'react';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var Getmusic=/*#__PURE__*/function(_Component){_inherits(Getmusic,_Component);var _super=_createSuper(Getmusic);function Getmusic(){var _this;_classCallCheck(this,Getmusic);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}_this=_super.call.apply(_super,[this].concat(args));_this.state={data:[]};_this.handleDelete=function(musicid){fetch('http://localhost:8000/api/bookmarks/'+\"\".concat(musicid),{method:'DELETE'}).then(function(res){if(!res.ok){return res.json().then(function(error){// then throw it\nthrow error;});}alert('Deleted!');_this.fetchAPI();}).catch(function(error){console.error(error);});};return _this;}_createClass(Getmusic,[{key:\"fetchAPI\",value:function(){var _fetchAPI=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var a,id,baseURL1,response,data;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:a=window.location.href.split('/');id=a[a.length-1];console.log(id);baseURL1='http://localhost:8000/api/bookmarks/'+id;_context.next=6;return fetch(baseURL1);case 6:response=_context.sent;_context.next=9;return response.json();case 9:data=_context.sent;console.log(data);this.setState({data:data});case 12:case\"end\":return _context.stop();}}},_callee,this);}));function fetchAPI(){return _fetchAPI.apply(this,arguments);}return fetchAPI;}()},{key:\"componentDidMount\",value:function componentDidMount(){this.fetchAPI();}},{key:\"render\",value:function render(){var _this2=this;return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"p\",{children:\"Get music\"}),/*#__PURE__*/_jsx(\"ul\",{className:\"getmusicul\",children:this.state.data.map(function(item){return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"li\",{children:[\"URL: \",item.url]}),/*#__PURE__*/_jsxs(\"li\",{children:[\"ARTIST: \",item.artist]}),/*#__PURE__*/_jsxs(\"li\",{children:[\"TITLE: \",item.title]}),/*#__PURE__*/_jsx(\"button\",{onClick:function onClick(){return _this2.handleDelete(item.id);},children:\"Delete\"}),/*#__PURE__*/_jsx(\"br\",{})]},item.id);})})]});}}]);return Getmusic;}(Component);export default Getmusic;","map":{"version":3,"sources":["/Users/Mustaqeem/MusicApp1/src/components/Getmusic.js"],"names":["React","Component","Getmusic","state","data","handleDelete","musicid","fetch","method","then","res","ok","json","error","alert","fetchAPI","catch","console","a","window","location","href","split","id","length","log","baseURL1","response","setState","map","item","url","artist","title"],"mappings":"2nBAAA,MAAOA,CAAAA,KAAP,EAAgBC,SAAhB,KAAiC,OAAjC,C,2FAEMC,CAAAA,Q,mUACFC,K,CAAQ,CAAEC,IAAI,CAAE,EAAR,C,OAkBNC,Y,CAAe,SAACC,OAAD,CACf,CACEC,KAAK,CAAC,iDAA2CD,OAA3C,CAAD,CAAuD,CACxDE,MAAM,CAAE,QADgD,CAAvD,CAAL,CAGCC,IAHD,CAGM,SAAAC,GAAG,CAAI,CACT,GAAI,CAACA,GAAG,CAACC,EAAT,CAAa,CACX,MAAOD,CAAAA,GAAG,CAACE,IAAJ,GAAWH,IAAX,CAAgB,SAAAI,KAAK,CAAI,CAC9B;AACA,KAAMA,CAAAA,KAAN,CACD,CAHM,CAAP,CAID,CACDC,KAAK,CAAC,UAAD,CAAL,CACA,MAAKC,QAAL,GACD,CAZH,EAaGC,KAbH,CAaS,SAAAH,KAAK,CAAI,CACdI,OAAO,CAACJ,KAAR,CAAcA,KAAd,EACD,CAfH,EAgBH,C,6IAnCD,mKACUK,CADV,CACcC,MAAM,CAACC,QAAP,CAAgBC,IAAhB,CAAqBC,KAArB,CAA2B,GAA3B,CADd,CAEIC,EAFJ,CAESL,CAAC,CAACA,CAAC,CAACM,MAAF,CAAW,CAAZ,CAFV,CAGFP,OAAO,CAACQ,GAAR,CAAYF,EAAZ,EACYG,QAJV,CAIqB,uCAAuCH,EAJ5D,uBAK2BhB,CAAAA,KAAK,CAACmB,QAAD,CALhC,QAKUC,QALV,qCAMuBA,CAAAA,QAAQ,CAACf,IAAT,EANvB,QAMUR,IANV,eAOIa,OAAO,CAACQ,GAAR,CAAYrB,IAAZ,EACA,KAAKwB,QAAL,CAAc,CACVxB,IAAI,CAAEA,IADI,CAAd,EARJ,4D,mHAYE,4BACA,CACE,KAAKW,QAAL,GACD,C,sBAuBH,iBAAS,iBACL,mBACI,oCACI,gCADJ,cAEI,WAAI,SAAS,CAAC,YAAd,UAGA,KAAKZ,KAAL,CAAWC,IAAX,CAAgByB,GAAhB,CAAoB,SAACC,IAAD,CAAQ,CACxB,mBAAQ,oCACA,8BAAUA,IAAI,CAACC,GAAf,GADA,cAEA,iCAAaD,IAAI,CAACE,MAAlB,GAFA,cAGA,gCAAYF,IAAI,CAACG,KAAjB,GAHA,cAIA,eAAQ,OAAO,CAAE,yBAAI,CAAA,MAAI,CAAC5B,YAAL,CAAkByB,IAAI,CAACP,EAAvB,CAAJ,EAAjB,oBAJA,cAKA,aALA,GAAUO,IAAI,CAACP,EAAf,CAAR,CAQH,CATD,CAHA,EAFJ,GADJ,CAoBH,C,sBA7DkBtB,S,EAgEvB,cAAeC,CAAAA,QAAf","sourcesContent":["import React, { Component } from 'react';\n\nclass Getmusic extends Component {\n    state = { data: [] }\n    async fetchAPI() {\n        const a = window.location.href.split('/');\n  const id = a[a.length - 1]\n  console.log(id);\n        const baseURL1 = 'http://localhost:8000/api/bookmarks/'+id;\n        const response = await fetch(baseURL1);\n        const data = await response.json();\n        console.log(data);\n        this.setState({\n            data: data\n        })\n      }\n      componentDidMount()\n      {\n        this.fetchAPI();\n      }\n\n      handleDelete = (musicid) =>\n      {\n        fetch('http://localhost:8000/api/bookmarks/'+ `${musicid}`, {\n            method: 'DELETE',\n        })\n        .then(res => {\n            if (!res.ok) {\n              return res.json().then(error => {\n                // then throw it\n                throw error\n              })\n            }\n            alert('Deleted!');\n            this.fetchAPI();\n          })\n          .catch(error => {\n            console.error(error)\n          });\n    }\n\n\n    render() { \n        return ( \n            <div>\n                <p>Get music</p>\n                <ul className=\"getmusicul\">\n                    \n                {\n                this.state.data.map((item)=>{\n                    return (<div key={item.id}>\n                            <li>URL: {item.url}</li>\n                            <li>ARTIST: {item.artist}</li>\n                            <li>TITLE: {item.title}</li>\n                            <button onClick={()=>this.handleDelete(item.id)}>Delete</button>\n                            <br></br>\n                            </div>\n                    )\n                })\n                 }\n                 </ul>\n            </div>\n         );\n    }\n}\n \nexport default Getmusic;"]},"metadata":{},"sourceType":"module"}